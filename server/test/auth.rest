# Extension: REST Client by Huachao Mao

@URL = http://localhost:3000
@JWT = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5Mjg2M2QzODY5NjgxMzQ0OTllNTVkMiIsImVtYWlsIjoiam9obkBnbWFpbC5jb20iLCJpYXQiOjE3NjQyNjAzMTMsImV4cCI6MTc2NDg2NTExM30.575w8IKKYUGgOQ-8NKCmfuJl0zReQqz3qXCaRUuWhUk
@JWT_Sam = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjU3MmU2YTZjMzJhZjdmOTlmZGY4NyIsImVtYWlsIjoic2FtQGdtYWlsLmNvbSIsImlhdCI6MTc2NDA2MjgyNCwiZXhwIjoxNzY0NjY3NjI0fQ.uV4iSy_RYKYg0ujR2JNDjJeig9-eyMF9JBTUPdEPp18

### replace the token!
POST {{URL}}/auth/login HTTP/1.1
Content-Type: application/json

{
	"email": "john@gmail.com",
	"password": "password"
}

#> {%
#	client.global.set("JWT", response.body.token)
#%}
# TODO: create a .env file just for testing and
# set the JWT automatically 

### 
GET {{URL}}/auth/profile HTTP/1.1
Authorization: Bearer {{JWT}}


###
POST {{URL}}/auth/register HTTP/1.1
Content-Type: application/json

{
	"userName": "john",
	"email": "john@gmail.com",
	"password": "password"
}

###
POST {{URL}}/auth/login HTTP/1.1
Content-Type: application/json

{
	"email": "sam@gmail.com",
	"password": "password"
}

### 
GET {{URL}}/auth/profile HTTP/1.1
Authorization: Bearer {{{{JWT_Sam}}}}

###
POST {{URL}}/auth/register HTTP/1.1
Content-Type: application/json

{
	"userName": "sam",
	"email": "sam@gmail.com",
	"password": "password"
}